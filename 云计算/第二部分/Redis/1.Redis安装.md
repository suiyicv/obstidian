
# 一.Redis的作用

应用场景：缓存服务器，<span style="background:#affad1">提升业务的访问速度</span>
![[Excalidraw/Drawing 2024-06-03 09.22.32.excalidraw.md#^group=C7a_EcWABUnj2SxQYMY1S|600]]

1.根据热点数据进行缓存
2.缓存网站上的静态资源
3.每份缓存数据都要设置一个合理的过期时间

核心关注点：缓存命中率
如果缓存命中率很低，不但不会提升业务的访问速度，反而会影响前端业务

NOSQL数据库
非关系型数据库
memcahed mongodb redis

redis特性
基于内存存储数据
以key-value键值对的方式存储数据
支持数据持久化存储（rdb数据文件，aof日志 ）
支持多实例，主从复制，分片集群，哨兵集群


# 二.redis安装

安装依赖环境
yum -y install gcc


https://download.redis.io/releases/redis-5.0.12.tar.gz

安装redis包
wget  https://download.redis.io/releases/redis-5.0.12.tar.gz
tar xf redis-5.0.12.tar.gz 
cd redis-5.0.12/
make
![[Pasted image 20240603195220.png]]
编译完成

安装
make PREFIX=/usr/local/redis50 install
![[Pasted image 20240603195343.png]]
安装完成
ls /usr/local/redis50/
![[Pasted image 20240603195436.png]]
ls /usr/local/redis50/bin
![[Pasted image 20240603195519.png]]

添加环境变量
vim /etc/profile
export PATH=$PATH:/usr/local/redis50/bin
source /etc/profile

启动redis
mkdir /usr/local/redis50/conf
cp redis-5.0.12/redis.conf  /usr/local/redis50/conf/
redis-server /usr/local/redis50/conf/redis.conf
![[Pasted image 20240603200125.png]]
默认启动是前台启动的
ctrl + c 结束命令

觉得这种启动方式不好，可以改一下配置文件
vim /usr/local/redis50/conf/redis.conf
daemonize yes
redis-server /usr/local/redis50/conf/redis.conf
![[Pasted image 20240603200550.png]]
netstat -tunlp | grep redis
![[Pasted image 20240603200612.png]]



测试数据读写
```bash
redis-cli
127.0.0.1:6379> set name suiyi
OK
127.0.0.1:6379> get name
"suiyi"
127.0.0.1:6379> 
```

```bash title:设置过期时间
127.0.0.1:6379> set url "http://www.jd.com" EX 10
OK
127.0.0.1:6379> get url
"http://www.jd.com"
127.0.0.1:6379> 
127.0.0.1:6379> get url
(nil)
```

关闭redis服务
redis-cli shutdown
netstat -tunlp | grep redis
查内存
free -m 
free -h
![[Pasted image 20240603201445.png]]
缓存内存这么打，这是正常的
