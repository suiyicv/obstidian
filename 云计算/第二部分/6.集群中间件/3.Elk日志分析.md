# 一.elk作用
做日志分析
<span style="background:#affad1">做统一的日志搜集，分析</span>
Linux做运维，除了一些平台的部署维护，我们还要再日志的统计分析搜集，也是个很重要的日常工作

elk方便我们做啥呢？
和我们之前讲的lb负载均衡集群有关,负载均衡集群--Load Balance LB  
![[Pasted image 20240622142634.png]]
前端有一些负载均衡器，后端有一些我们的业务
客户端访问这个负载均衡器，负载均衡器会把客户端的请求，分散，或者说随机发布到后端的业务服务器上
我们现在从日志的角度来讲
网站都有所谓的访问日志，你要是说这个业务是集群的结构的话，客户端有的请求会到第一个业务服务器，有的回到第三个业务服务器上
不同的客户端请求，可能会随机到不同的业务服务器上

如果你的客户端的请求到了第一个机器上面，那这一次客户端相关的访问，产生的日志信息都在第一个机器上记录，下一波请求，到第三个业务服务器上了，那这些日志都会记录到第三个机器上

核心一点：后端的业务服务器不管有多少个，他最终跑的都是统一套网站A，后续要对这个网站的访问日志做统一的分析，比如我们要分析这个也页面的访问量，这个怎么处理呢？
以前小规模的环境，可能项目结构非常简单，就一个单一服务器上面，只需要对一个机器上的日志进行分析就行了
但是在我们集群环境里，日志是分散在不同的机器上面的，那在做访问量分析的收，首先要做的一件事就是要把这些机器上面的所有日志给搜集过来。

基于这一种需求，然后就有了相关的工具，比如elk
就是在你的项目结构上面在搞一套elk机器
![[Pasted image 20240622144454.png]]
根据我们的配置把业务服务器上面我们需要的日志统一全都集中到elk身上来，然后方便在elk上做一些统一的分析，统一的处理。

但是要是放在公司实际干活的时候，就比如说我们日常出一点错，你带去找错误日志去，这样子也可以借助elk查看这些错误日志

# 二.核心组件
elk部署好了之后，elk至少是一个单独的机器，他凭什么能去我们这些业务服务器上面搜集数据去？
要想连接业务服务器，业务服务器上面，必须要求<span style="background:#affad1">相应的客户端</span>，所以我们需要在业务服务器上面部署客户端软件，这些软件我们统称为<span style="background:#affad1">beat</span>
部署在业务服务器的客户端agent，用于让elk联系beat采用日志
代表性的beat

<span style="background:#affad1">topbeat</span>：适合搜集系统级别的日志效率比较高
![[Pasted image 20240622145358.png]]
<span style="background:#affad1">filebeat</span>:   适用于搜集应用级别的日志
<span style="background:#affad1">winbeat</span>:  适用于windows日志
packetbeat：适用于网络设备的日志

这些beat软件都是go语言开发的，可以学学go语言




















